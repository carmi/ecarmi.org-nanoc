<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<link href='/static/css/application.css' media='screen' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Alegreya:400italic,400,700|Inconsolata' rel='stylesheet' type='text/css'>
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

<script type="text/javascript">
    // first, create the object that contains
    // configuration variables
    MTIConfig = {};

    // next, add a variable that will control
    // whether or not FOUT will be prevented
    MTIConfig.EnableCustomFOUTHandler = true // true = prevent FOUT
</script>
<title>
Password Protect Nginx Virtualhost | Evan Carmi
</title>
<link href="/writing/feed.xml" type="application/atom+xml" rel="alternate" title="Writing ATOM Feed">
<meta content='nanoc' name='generator'>
<meta content='Evan Carmi' name='author'>
<meta content='A simple guide to enable basic authentication for an Nginx virtualhost.' name='description'>
</head>
<body>
<div class='container'>
<header class='post'>
<div class='header-contents'>
<hgroup class='article-metadata'>
By
<span class='author'>
<a href='https://ecarmi.org'>
Evan Carmi
</a>
</span>
&#183;
<span class='post-date'>
Posted
<time class="timeago created-at" datetime="2011-08-11T00:00:00-07:00">August 11, 2011</time>
</span>
</hgroup>
<h1 class='title'>Password Protect Nginx Virtualhost</h1>
</div>
</header>
<article class='post'>

<h1 id="how-to-password-protect-an-nginx-virtualhost">How to Password Protect an Nginx virtualhost</h1>

<p>Note: These instructions were tested on a Joyent Solaris SmartMachine. It should work on all other hosts though.</p>

<h3 id="modify-nginxconf">Modify nginx.conf</h3>
<p>Go into your nginx.conf for your server and add:</p>

<pre><code>location  /  {
  auth_basic            "Restricted";
  auth_basic_user_file  sitename.htpasswd;
}
</code></pre>

<h3 id="create-authentication-file">Create authentication file</h3>
<p>Create the authentication file by running:</p>

<pre><code>sudo htpasswd -c sitename.htpasswd user
</code></pre>

<p>and it will prompt you for your password for the site.</p>

<h3 id="reload-nginx">Reload Nginx</h3>
<p>Tell nginx to reload its configuration files:</p>

<pre><code>sudo nginx -s reload
</code></pre>

<p>You’re done!</p>

<h3 id="complete-documentation">Complete Documentation</h3>
<p>For more information read the full docs on Nginx’s <a href="http://wiki.nginx.org/HttpAuthBasicModule">basic auth module</a>.</p>

<p class='prev'>
<a class="previous" title="Setup Nginx on Joyent's Solaris SmartMachine" href="/writing/setup-nginx-joyent-solaris-smartmachine/">&larr; Previous</a>
</p>
<p class='next'>
<a class="next" title="Digital Attachments" href="/writing/digital-attachments/">Next &rarr;</a>
</p>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
 var disqus_developer = 1; // developer mode is on
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'ecarmi'; // required: replace example with your forum shortname

  // The following are highly recommended additional parameters. Remove the slashes in front to use.
  var disqus_identifier = '/writing/password-protect-nginx/';
  var disqus_title = 'Password Protect Nginx Virtualhost';
  var disqus_url = 'https://ecarmi.org/writing/password-protect-nginx/';

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</article>

</div>
<footer>
<div class='footer-div'>
<div class='footer-contents'>
<section>
<aside>
<h6>Whose site is this?</h6>
</aside>
<article>
<p>This is the digital abode of Evan Carmi. <a title="About" href="/about/">Moreover...</a>.</p>
</article>
</section>
<section>
<aside>
<h6>Have thoughts?</h6>
</aside>
<article>
<form id="contact-form" action="//murmuring-gorge-6133.herokuapp.com/c7fb810ab62eafa93d1683aa5e3d9877" method="POST">
    <input type="email" name="replyto" placeholder="Place email here...">
    <textarea name="message" rows="1" placeholder="Place opinion here..."></textarea>
    <input type="text" name="_gotcha" style="display:none">
    <input type="hidden" name="subject" value="[submission] Hello from ecarmi.org" />
    <input type="submit" value="Send">
</form>
</article>
</section>
<section>
<aside>
<h6>How was the site made?</h6>
</aside>
<article>
<p>Evan Carmi designed and coded this site by hand with love in <a href="https://github.com/carmi/dotfiles/blob/master/.vimrc">Vim</a>.  It is powered by <a href="http://nanoc.stoneship.org/">Nanoc</a> and served by <a href="http://nginx.org/">Nginx</a> on the <a href="http://joyent.com/">Joyent Cloud</a>. The complete source code is <a href="https://github.com/carmi/ecarmi.org-nanoc">online</a>.</p>
</article>
</section>
</div>
<p class='social-links'>
<a title="Home" href="/"><i class="fa fa-home"></i></a>
<a title="Github" rel="me" href="https://github.com/carmi/"><i class="fa fa-github"></i></a>
<a title="Twitter" rel="me" href="https://twitter.com/ehc"><i class="fa fa-twitter"></i></a>
<a title="LinkedIn" rel="me" href="http://www.linkedin.com/in/evancarmi"><i class="fa fa-linkedin"></i></a>
</p>
</div>
</footer>

<!-- / Javascript -->
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src='/static/js/combined.js' type='text/javascript'></script>
<!-- GA -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-27458554-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End GA -->

<script type='text/javascript'>
jQuery(document).ready(function() {
jQuery("time.timeago").timeago();
});
</script>
</body>
</html>
